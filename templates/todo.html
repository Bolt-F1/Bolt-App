<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<html>
    <head>
        <title> The Bolt To Do List: </title>
        <h2> To-do list</h2>
        <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    </head>

    <body>
        <div class="list">

            <div class="create_task">

                <h4 style="color: goldenrod;"> Add a Task </h4> 
            
                <form method="POST" class="create_task_form">
                    <input type="hidden" name="form_id" value="create_task">
                    <input type="text" name="todo-title" placeholder="Task Title" required>
                    <input type="text" name="todo-body" placeholder="Details" required>
                    <input type="text" name="todo-deadline" placeholder="Deadline (YYYY-MM-DD)" required>
                    <button type="submit" style="background-color: black; color: wheat; outline: wheat;">Send</button>
                </form>

            </div>

            <form method="GET" style="display:inline;">
                <input type="hidden" name="username" value="{{ username }}">
                {% if show_completed %}
                    <input type="hidden" name="show_completed" value="0">
                    <button type="submit">Hide Completed</button>
                {% else %}
                    <input type="hidden" name="show_completed" value="1">
                    <button type="submit">Show Completed</button>
                {% endif %}
            </form>
            

            <div class = list_items>
                {% for i in todolist_items %}
                    <div class="list_item">
                        <span class = todolist_item_title>{{ i[1] }}</span>
                        <span class = todolist_item_body>{{ i[2] }}</span>
                        <span class = todolist_item_creater>Set by: {{ i[3] }}</span>
                        <span class = todolist_item_deadline>Deadline: {{ i[4] }}</span>
                        {% if i[5] %}
                        <br> <span class="todolist_item_completed">Completed</span>
                        {% endif %}

                        {% if not i[5] %}

                        <form method="POST" class="complete_task">
                            <input type="hidden" name="task_id" value="{{ i[0] }}">
                            <input type="hidden" name="form_id" value="complete_task">
                            <button type="submit">Completed?</button>
                        </form>

                        {% endif %}
                        
                    </div>
                {% endfor %}

            </div>

        </div>

        <nav class="bottom-menu">
            <ul>
                <li><a href="{{ url_for('chat') }}"><img src="images/image-removebg-preview-9.png" alt="Chat" /></a></li>
                <li><a href="{{ url_for('todo') }}"><img src="about.png" alt="Tasks" /></a></li>
                <li><a href="{{ url_for('chatbot') }}"><img src="services.png" alt="Bolt Chatbot" /></a></li>
                <li><a href="#"><img src="contact.png" alt="Bolt Sim" /></a></li>
            </ul>
        </nav>
    

    </body>
</html>